<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // var a;getA=undefined
    // 全局变量给window新增键值对发生在变量提升的阶段；
    //console.log(getA);// undefined
    /*if("a" in window){
        // 块级作用域中：先对函数进行定义；赋值；
        var a="1";
        function getA(a) {
            // a="1"
            a="";
            a=a||this.a;
            console.log(a);// "1"
        }
        getA(a);
    }*/
    /*if([]){
        // 代码运行之前，解析顺序 let  ---> function ---> var
        console.log(100);
        let  a = 1;
        function a() {

        }
    }*/


    // var a=4;var obj1,var fn1;
    /*var a=2;
    var obj1={
        a:1,// 3
        fn1:(function (a) {
            // 2  3  4
            // 这个函数只会在存储键值对时，执行一次；
            this.a=a;
            a++;
            return function () {
                // this--> obj1
                this.a=a++;
                console.log(a);// 5
            }
        })(a)
    };
    obj1.fn1();
    var fn1=obj1.fn1;
    fn1();*/
/*    var  num =1;
    var o = {num:2,1:3};
    console.log(o.num);*/// 2

    /*var b="b";
    var obj2={
        b:"B",// "是B"
        getB:function (b) {
            // b="是"
            // this--> obj2
            this.b=b+this.b;// "是"+"B"
            return this.b
        }
    };
    console.log(obj2.getB("是"));*/// "是B"


    // var c=3 2 3  4; getC=aabbcc;var  obj3;var f3;
   /* var c=3;
    function getC() {
        this.c++;
        return function (c) {
            c=this.c*2;
            console.log(c);// 8
        }
    }
    var obj3={
        c:2,// 3
        getC:(function () {
            // this--> window
            this.c-=1;
            return this.getC
        })()
    };
    getC();obj3.getC();
    var f3=obj3.getC;f3()();
    console.log(window.c);console.log(obj3.c);*/


    // g1=aabb  var obj4;
    function g1() {
        // this--> window;给window新增键值对
        this.g="gg"
    }
    var obj4={
        g1:g1,
        gg:function () {
            // this--> obj4
            g1();
        }
    };
    obj4.g1();// 给obj4新增键值对
    obj4.gg();
    console.log(obj4);
    console.log("g" in window);///// true

    var number=2;// 4  8
    var obj={
        number:4,// 8
        fn1:(function () {
            // number : 3
            this.number*=2;
            number=number*2;
            var number=3;// 9  27
            return function () {
                this.number*=2;
                number*=3;
                alert(number);// 9  27
            }
        })()
    };
    var fn1=obj.fn1;
    alert(number);fn1();obj.fn1();
    alert(window.number);// 8
    alert(obj.number);// 8

    // 当前函数的上一级作用域要看函数在哪定义的；跟函数的执行没有关系；
    var total =1;
    function fn() {
        console.log(total);
    }
    function foo() {
        var total = 100;
        fn()
    }
    foo();


</script>
</body>
</html>